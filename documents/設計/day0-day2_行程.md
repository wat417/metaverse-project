# 📅 Day 0：目的・方針・技術構成の確認

## 🎯 開発目的・スコープ
- 目的：2Dメタバース風のブラウザアプリケーションの開発
- ユースケース：
  - 軽量なマルチプレイ空間（チャット＋アバター移動）
  - デモやインタラクティブな遠隔環境の提供
- 中核要件：
  - Phaser.js を用いた描画・移動
  - Firebase による状態同期と認証
  - SPA 構成による軽量な導線管理

## 🧭 進行方針・運用ルール
- スケジュールは Copilot再構成版（v1.0）に基づく
- 日次の進捗管理は `日次作業記録テンプレート` に従う
- フェーズ毎の精緻化は該当段階で実施し、必要に応じて修正を提案
- 決め事は `Copilot基本.md` で一元管理され、Copilotはこれに従う

## 🔧 採用技術スタックと責任分離

| 技術            | 用途                                  |
|-----------------|----------------------------------------|
| Phaser.js       | アバター描画・マップ制御・カメラ追従     |
| Firebase Auth   | 匿名ログイン＋ニックネーム識別           |
| Firebase RTDB   | アバター状態・チャット同期                |
| JavaScript      | クライアントイベント制御と各API連携       |
| HTML/CSS        | 画面構築（ログインUI／チャットUIなど）  |
| GitHub / CI     | バージョン管理と自動デプロイ             |
| Vercel／Pages   | ホスティング／公開環境構成               |

---

# 📅 Day 1–2：Firebase Authentication構成・初期セキュリティ設計

## 🔐 構成・実装対象

### 認証構成
- Firebase Consoleにて「匿名ログイン」を有効化
- `signInAnonymously()` によるログイン処理を実装
- ログイン後、`uid` を取得して状態保持
- ユーザー名（ニックネーム）入力 → RTDBの `/users/{uid}` へ登録

### セキュリティ構成
- Firebase RTDB セキュリティルール初期定義
  ```json
  {
    "rules": {
      "users": {
        "$uid": {
          ".read": "auth.uid === $uid",
          ".write": "auth.uid === $uid"
        }
      }
    }
  }

### 認証済ユーザーにのみ、自身のデータアクセスを許可する構成
- ユーザー情報構成（想定）
  ```json
    /users/{uid}:
  - nickname: string
  - connected: boolean
  - joinedAt: timestamp

## 🎯 作業の目的
- 各ユーザーの接続状態や状態情報を他処理と分離・制御できるようにする
- 後続フェーズ（通信・UI）の状態整合性とセキュリティ保証の土台を作る
