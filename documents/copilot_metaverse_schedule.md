# 📄 資料全文出力：`copilot_metaverse_schedule.md`

## WBS：2Dメタバース風Webアプリ開発計画（再構成案 v1.0準拠）

---

## 📌 運用原則（2025年7月8日時点追記）

- 設計フェーズは一時的にスケジュールから分離し、**動作確認結果に応じて後追いで実施**
- 構成整理・設計項目の未記載状態は許容対象とする（**履行進捗が優先**）
- Copilot は必要に応じて **構成補完責務を持つ**
- **実装 → 試験 → 設計** の順に従って、原則的な履行フローを構成

---

## フェーズ 0：計画立案と基盤整備

- 0.1 目的・方針・使用技術の確定
- 0.2 開発スケジュールとフェーズ区分の合意
- 0.3 日次管理テンプレートの整備
- 0.4 履歴構成資料群の同期整理（`copilot_project_structure.md`／日次記録）

---

## フェーズ 1：認証・DB設計（Day 1〜5）

- 1.1 Firebase Authentication（匿名＋ニックネーム）の構成
- 1.2 認証セキュリティルールの初期定義
- 1.3 アバター・チャット・状態データ構造の設計
- 1.4 Firebase Security Rules（読み書き管理）の構成
- 1.5 クライアント側：認証状態の取得ロジック

---

## フェーズ 2：開発環境構築・初期UI設計（Day 6〜8）

- 2.1 GitHubリポジトリ構成・CI環境の導入
- 2.2 SPA構成ファイルとルーティング初期構築
- 2.3 Phaser.jsの初期導入とCanvas描画配置
- 2.4 ログイン画面・チャットUIのモック作成
- 2.5 チャットUI／入力欄の基本レイアウト設計

---

## フェーズ 3：描画ロジック実装（Day 9〜13）

- 3.1 アバタースプライト描画（初期位置）
- 3.2 キー入力による移動処理とカメラ追従
- 3.3 衝突判定（境界・マップ内制限）
- 3.4 PhaserとUIレイアウトの整合調整

---

## フェーズ 4：通信処理と状態同期（Day 14〜20）

- 4.1 Firebaseとの送受信処理（アバター位置）
- 4.2 チャット送信・受信イベント処理
- 4.3 複数人状態の表示（他人のアバター同期）
- 4.4 切断・退出イベントの制御と通知表示
- 4.5 通信ログと基本モニタリングの整備

---

## フェーズ 5：UI拡張・履歴・設定周辺（Day 21〜25）

- 5.1 ルーム分離機能（ルームごとの表示・接続）
- 5.2 チャット履歴保存と読み込み
- 5.3 設定画面の作成とユーザー名・テーマ管理
- 5.4 通知表示のレイヤー設計（通信／状態）

---

## フェーズ 6：運用拡張機能（Day 26〜28）

- 6.1 Cloud Functionsによるチャットフィルター実装
- 6.2 一定時間操作なしユーザーの退室処理
- 6.3 操作ログ出力の構造と保存先設計

---

## フェーズ 7：結合・テスト・デプロイ（Day 29〜35）

- 7.1 各モジュール間のインタフェース検証
- 7.2 描画・通信・UIの結合テストと不具合修正
- 7.3 最終リファクタリングと命名規約整理
- 7.4 VercelまたはGitHub Pagesへの公開構成
- 7.5 リリース確認＋動作チェック