# 📂 metaverse-project ファイル構成参照ベース

最終更新日：2025-07-07

---

## ✅ 現在の実装済ファイル一覧

| ファイルパス                         | 内容・責務                           | 実装状況・備考                                     |
|--------------------------------------|--------------------------------------|----------------------------------------------------|
| src/main.ts                          | エントリポイント、Phaser初期化       | 初期化／Scene起動まで完了                         |
| src/scenes/MainScene.ts              | プレイヤーの描画・同期処理 主Scene   | playerLabels 登録済（2025-07-04）                 |
| src/scenes/statusDisplay.ts          | ステータス表示UI・イベント通知       | Emit対応済：クリック履歴記録あり                 |
| src/ui/groupControl.ts               | グループ選択用UI・イベント発火       | `"groupSelectStatus"` 発火あり                    |
| src/log/eventLogger.ts               | イベント記録構造定義・記録処理       | RTDBスキーマに従い記録（2025-07-06）             |
| src/log/rtdbAdapter.ts               | Firebase書込ラッパー（内部用）        | `.set()`封装、ユーティリティ構成                  |
| src/utils/eventBus.ts                | 独自イベント通知（on/emit定義）       | 各UI→Logger連携に使用中                          |
| src/firebase/init.ts                 | Firebase 初期化処理                  | 環境初期化／export済                               |
| src/firebase/publish.ts              | 自プレイヤーの座標送信処理           | `set()` による送信                                |
| src/firebase/listen.ts               | 他プレイヤー座標の受信処理           | `onValue()` による描画通知（2025-07-04実装）     |
| src/firebase/remove.ts               | 離脱プレイヤー削除監視処理           | playerLabels 削除処理と整合済（2025-07-04）       |

---

## 🚧 未着手・予定構成ファイル

| 想定パス                    | 予定内容                              | 優先度・ステータス             |
|-----------------------------|---------------------------------------|----------------------------------|
| src/utils/playerMap.ts      | Spriteの参照マッピング処理             | 構成整理中・中優先度            |
| src/game/config.ts          | 共通設定（画面サイズ等）               | 後回し予定・必要に応じて汎用化  |

---

## ❌ 削除・統合済みファイル履歴

| 旧パス                    | 対応     | 備考                                       |
|---------------------------|----------|--------------------------------------------|
| src/firebase/sample.ts    | 削除     | 機能整理のため削除済（2025-06-28）        |

---

## 📎 運用補足

- 本ファイルは **Copilotの構成認識の同期ベース** として活用  
- 更新時は `日次作業記録_yyyymmdd.md` と同時に参照・同期すること  
- 内容が実構成と異なる場合は **必ず修正優先して構成を整合させること**